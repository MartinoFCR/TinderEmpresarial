<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recuperar Contraseña</title>
    <link rel="stylesheet" href="recover-password.component.css"> <!-- Asegúrate de que la ruta sea correcta -->
</head>
<body>
    <div class="recover-container">
        <h2>Recuperar Contraseña</h2>
        <form id="recover-form">
            <input type="email" id="email" placeholder="Introduce tu correo" required />
            <input type="text" id="code" placeholder="Introduce el código" required />
            <button type="submit">Verificar código</button>
        </form>
        <div class="new-password-container" style="display: none;">
            <input type="password" id="new-password" placeholder="Nueva contraseña" required />
            <button id="update-password">Actualizar contraseña</button>
        </div>
        <p class="login-prompt">¿Ya tienes una cuenta? <a href="/../login/login.component.html" id="loginLink">Iniciar sesión</a></p>
    </div>

    <script>
        document.getElementById('recover-form').addEventListener('submit', function(event) {
            event.preventDefault();

            const email = document.getElementById('email').value;
            const code = document.getElementById('code').value;

            // Simulación de verificación
            const storedEmail = "usuario@example.com"; // Correo guardado
            const storedCode = "123456"; // Código guardado (esto podría ser generado y enviado por correo)

            // Verificar si el correo y el código son correctos
            if (email === storedEmail && code === storedCode) {
                alert("Código verificado correctamente. Puedes introducir tu nueva contraseña.");
                // Mostrar el campo para la nueva contraseña
                document.querySelector('.new-password-container').style.display = 'block';
            } else {
                alert("Correo o código incorrectos.");
            }
        });

        document.getElementById('update-password').addEventListener('click', function() {
            const newPassword = document.getElementById('new-password').value;
            // Aquí podrías añadir la lógica para actualizar la contraseña
            if (newPassword) {
                alert("Contraseña actualizada correctamente.");
                // Resetear el formulario
                document.getElementById('recover-form').reset();
                document.querySelector('.new-password-container').style.display = 'none';
            } else {
                alert("Por favor, introduce una nueva contraseña.");
            }
        });
    </script>
</body>
</html>
